cmake_minimum_required(VERSION 3.16)

project(app VERSION 1.0 LANGUAGES CXX)

add_compile_options(-Wall -Wextra -Werror)



set(CMAKE_AUTOMOC ON)
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_PREFIX_PATH /home/kajotello/Qt/5.15.2/gcc_64/lib/cmake/Qt5)
set(CMAKE_AUTOUIC ON)

set(MENU src/dish_menu/Dish.h src/dish_menu/Menu.h src/dish_menu/Menu.cpp)
set(EMPLOYEES src/employees/Employee.h src/employees/Cook.h src/employees/Deliverer.h src/employees/Manager.h src/employees/Staff.h src/employees/Waiter.h src/employees/Employee.cpp)
set(ORDER src/order/AbstractOrder.h src/order/DeliveryOrder.h src/order/OnSiteOrder.h)
set(PANTRY src/pantry/Pantry.h src/pantry/Pantry.cpp src/pantry/Product.h)
set(RESTAURANT src/restaurant/Restaurant.h  src/restaurant/Restaurant.cpp src/restaurant/RestaurantNet.h)
set(UTILS src/utils/Address.h src/utils/Money.h src/utils/Money.cpp)

set(MAINWINDOW gui/main_window/mainwindow.cpp gui/main_window/mainwindow.h)
set(CHANGEADDRESS gui/change_address/changeaddresswindow.h gui/change_address/changeaddresswindow.cpp)
set(ADDDISH gui/add_dish/adddish.h gui/add_dish/adddish.cpp)
set(ADDORDER gui/add_order/addorder.h gui/add_order/addorder.cpp)
set(ADDEMPLOYEE gui/add_employee/addemployee.h gui/add_employee/addemployee.cpp)
set(CHANGEID gui/change_id/changeid.h gui/change_id/changeid.cpp)
set(CHANGENAME gui/change_name/changename.h gui/change_name/changename.cpp)
set(CHANGESALARY gui/change_salary/changesalary.h gui/change_salary/changesalary.cpp)
set(CHANGESURNAME gui/change_surname/changesurname.h gui/change_surname/changesurname.cpp)
set(ADDPRODUCT gui/add_product/addproduct.h gui/add_product/addproduct.cpp)
set(ADDINGRIDIENT gui/add_ingridient/addingridient.h gui/add_ingridient/addingridient.cpp)
set(CHANGECATEGORY gui/change_category/changecategory.h gui/change_category/changecategory.cpp)
set(ADDMENUDISH gui/add_menu_dish/addmenudish.h gui/add_menu_dish/addmenudish.cpp)




find_package(Qt5 5.15 COMPONENTS Quick Gui Widgets QuickWidgets QmlImportScanner Qml REQUIRED)
find_package(jsoncpp REQUIRED)

add_executable(json_reader_example json_example/reader.cpp)
add_executable(json_writer_example json_example/writer.cpp)
add_executable(tests test.cpp ${MENU} ${EMPLOYEES} ${ORDER} ${PANTRY} ${RESTAURANT} ${UTILS})
add_executable(app main.cpp ${MENU} ${EMPLOYEES} ${ORDER} ${PANTRY} ${RESTAURANT} ${UTILS})
add_executable(app2 gui/main.cpp ${MAINWINDOW} ${CHANGEADDRESS} ${ADDMENUDISH} ${ADDDISH} ${ADDORDER} ${ADDEMPLOYEE} ${CHANGECATEGORY} ${ADDINGRIDIENT} ${CHANGEID} ${CHANGENAME} ${CHANGESURNAME} ${CHANGESALARY} ${ADDPRODUCT} ${MENU} ${EMPLOYEES} ${ORDER} ${PANTRY} ${RESTAURANT} ${UTILS})

target_link_libraries(app jsoncpp_lib)
target_link_libraries(json_reader_example jsoncpp_lib)
target_link_libraries(json_writer_example jsoncpp_lib)

target_link_libraries(app2 PUBLIC jsoncpp_lib Qt5::Quick Qt5::Gui Qt5::Widgets Qt5::QuickWidgets )
qt5_import_qml_plugins(app2)
